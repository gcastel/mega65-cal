' -------------------------------' –ERPETUAL √ALENDAR' Õ65 VERSION, «ERBEN √ASTEL 2025' -------------------------------#DECLARE CURRENTMONTH#DECLARE CURRENTYEAR#DECLARE HIGHLIGHTDAY#DECLARE D#DECLARE DAY#DECLARE NBDAYS#DECLARE I#DECLARE KEY$#DECLARE MONTH#DECLARE RTCADDR#DECLARE T#DECLARE YEAR#DEFINE ”≈Ã≈√‘¬œÿÿ=8#DEFINE ”≈Ã≈√‘¬œÿŸ=8.TEXTMODEINIT'------------'SWITCH TO 40 COLS'(THANKS TO ‘ONEƒE∆ ON THE MEGA65 DISCORD FOR THE TIP)PRINT CHR$(27)"4"BACKGROUND 6SCNCLR.FINDCURRENTDATE'---------------' “EAD “‘√ (LOOSELY BASED ON THE Õ65 MANUAL)RTCADDR=$FFD7113FOR I=0 TO 2  T(I)=PEEK(RTCADDR+I)NEXT I' “‘√ INTERNAL REPRESENTATION IS ¬√ƒ CURRENTYEAR = VAL(HEX$(T(2)+$2000))CURRENTMONTH = VAL(HEX$(T(1)))DAY = VAL(HEX$(T(0)))YEAR = CURRENTYEARMONTH = CURRENTMONTH.MAINLOOP'--------' ÕIKE ÀEITH'S ¡LGORITHM: FIND THE DAY OF THE WEEK ' FOR THE FIRST DAY OF THE MONTHI=YEAR+(MONTH < 3)D=INT(23*MONTH/9)+3-(2*(MONTH<3))+YEAR+INT(I/4)-INT(I/100)+INT(I/400)D=INT(MOD(D,7))NBDAYS = 31 + (MONTH = 4 OR MONTH = 6 OR MONTH = 9 OR MONTH = 11) + (MONTH = 2) * 3IF (MONTH = 2) THEN GOSUB INCDAYSIFLEAPYEAR GOSUB DISPLAYGETKEY KEY$IF KEY$="—" OR KEY$="Q" THEN GOTO EXITIF KEY$="«" OR KEY$="G" THEN GOSUB SELECTDATEIF KEY$=CHR$(157) THEN GOSUB PREVIOUSMONTHIF KEY$=CHR$(29) THEN GOSUB NEXTMONTHGOTO MAINLOOP.EXIT'----'SWITCH BACK TO 80 COLSPRINT CHR$(27)"8"SCNCLRCOLOR 14PRINT "PERPETUAL CALENDAR FOR MEGA65 V1.01 BY GERBEN CASTEL, 2025"COLOR 1END'======= ”’¬“œ’‘…Œ≈” ========.SELECTDATE'----------CURSOR ”≈Ã≈√‘¬œÿÿ,”≈Ã≈√‘¬œÿŸPRINT "§§§§§§§§§§§§§§§§§§§§§§§§"FOR I=1 TO 8  CURSOR ”≈Ã≈√‘¬œÿÿ,”≈Ã≈√‘¬œÿŸ+I  PRINT "°                      ∂"NEXT ICURSOR ”≈Ã≈√‘¬œÿÿ,”≈Ã≈√‘¬œÿŸ+IPRINT "££££££££££££££££££££££££"WINDOW ”≈Ã≈√‘¬œÿÿ+2,”≈Ã≈√‘¬œÿŸ+2,”≈Ã≈√‘¬œÿÿ+22,”≈Ã≈√‘¬œÿŸ+8.MONTHINPUTLOOP'--------------INPUT "ÕœŒ‘»";MONTHIF MONTH > 12 THEN PRINT "  ’ŒÀŒœ◊Œ ÕœŒ‘» !":GOTO MONTHINPUTLOOPIF MONTH < 1 THEN PRINT "  ’ŒÀŒœ◊Œ ÕœŒ‘» !":GOTO MONTHINPUTLOOPINPUT "Ÿ≈¡“";YEARWINDOW 0,0,39,24RETURN.NEXTMONTH'---------MONTH=MONTH+1IF MONTH=13 THEN BEGIN  MONTH=1  YEAR=YEAR+1BENDRETURN.PREVIOUSMONTH'-------------MONTH=MONTH-1IF MONTH=0 THEN BEGIN  MONTH=12  YEAR=YEAR-1BENDRETURN.DISPLAY'-------SCNCLRCURSOR 0,3COLOR 1PRINT "           == "; COLOR 18:PRINT MONTH;COLOR 1:PRINT "/";COLOR 18:PRINT YEAR;COLOR 1:PRINT " =="CURSOR 0,6PRINT "      SUN MON TUE WED THU FRI SAT"COLOR 18PRINT "     ¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢"PRINTCOLOR 1HIGHLIGHTDAY=(CURRENTYEAR=YEAR) AND (CURRENTMONTH=MONTH)FOR I = 1 TO NBDAYS    IF (I = DAY) AND HIGHLIGHTDAY THEN COLOR 10    PRINT TAB(4 * (D + I - 1) + 6); I;    IF (I = DAY) AND HIGHLIGHTDAY THEN COLOR 1    IF (D + I - 1 = 6) OR (I=NBDAYS) THEN PRINT:PRINT: D = D - 7NEXT ICOLOR 18PRINT "     ¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢¢"COLOR 1CURSOR 6,22:PRINT "LEFT/RIGHT = PREV/NEXT MONTH"CURSOR 6,23:PRINT "G = GO TO DATE      Q = QUIT"RETURN.INCDAYSIFLEAPYEAR'-----------------' "YEAR" IS A LEAP YEAR IF MULTIPLE OF 4 BUT NOT MULTIPLE OF 100' UNLESS IT'S A MULTIPLE OF 400 IF MOD(YEAR,400)=0 THEN NBDAYS=NBDAYS+1:RETURNIF MOD(YEAR,100)=0 THEN RETURNIF MOD(YEAR,4)=0 THEN NBDAYS=NBDAYS+1:RETURNRETURN